@* @inject ITaiLieuService TaiLieuService
@inject DialogService DialogService
@inject NotificationService NotificationService

<RadzenTemplateForm Data="@model" Submit="@(EventCallback.Factory.Create<ThongTinBanHanh>(this, OnSubmit))">
    ...
    <RadzenButton Text="Hủy bỏ" ButtonStyle="ButtonStyle.Light" Click="() => DialogService.Close(false)" />
    <RadzenButton ButtonType="ButtonType.Submit" Text="Lưu thông tin" Icon="save" ButtonStyle="ButtonStyle.Primary" />
    ...
</RadzenTemplateForm>

@code {
    [Parameter] public string TaiLieuId { get; set; }
    [Parameter] public string TenTaiLieu { get; set; }

    ThongTinBanHanh model = new ThongTinBanHanh();

    void OnUploadComplete(UploadCompleteEventArgs args)
    {
        model.FileName = "QuyetDinh_BanHanh.pdf";
    }

    async Task OnSubmit(ThongTinBanHanh data)
    {
        // If your TaiLieuService LuuThongTinBanHanh is synchronous, you can call it directly.
        // If it's async, call await TaiLieuService.LuuThongTinBanHanhAsync(...)
        TaiLieuService.LuuThongTinBanHanh(TaiLieuId, data);

        NotificationService.Notify(new NotificationMessage
        {
            Severity = NotificationSeverity.Success,
            Summary = "Thành công",
            Detail = "Đã ban hành và gửi thông báo tới đơn vị!",
            Duration = 4000
        });

        DialogService.Close(true);
    }
} *@